## 高级排序

## 希尔排序
希尔排序基于直接插入排序。

直接插入排序：从待排序序列中取出元素，插入到已排序的序列中，重复进行。

希尔排序(缩小排序间隔-插入排序)：加大待插入排序序列的元素间隔，使得元素大幅度交换；
当完成一轮插入排序之后，缩小排序间隔，继续进行新一轮插入排序，直至排序间隔=1。

增量间隔计算方法：

1. N/2，不完美，排序间隔不互质，不能完美保持之前的排序结果。
2. N/2.2，能够改善排序效果。
3. 3H + 1,克努斯knuth

希尔排序(缩小排序间隔-插入排序)算法:

1. 计算最大排序间隔
2. 对每个排序间隔分别进行间隔元素插入排序
3. 缩小排序间隔，重复进行，直至为1

希尔排序伪代码：

//设定初始比较间隔为1
step = 1;len = array.length;
//计算最大排序间隔
while(step <= len / 3){
    step = 3 * step + 1;
}
//对每个排序间隔分别进行插入排序
while(step > 0){
    //从第step个元素开始，与前面的元素进行比较，然后插入
    for(int i = step; i < len; i ++){
        //获取当前待插入元素
        int current = array[i];
        //定义待比较的元素下标
        int frontIndex = i;
        //将当前元素依次与前面的多个间隔元素进行比较，找到合适位置后，进行插入
        while(frontIndex >= 0 && current <= array[frontIndex - step]){
            //如果当前元素比待比较元素小，则将待比较元素后移
            array[frontIndex] = array[frontIndex - step];
            //计算下一个待比较的间隔元素下标
            frontIndex = frontIndex - step;
        }
        //将当前元素插入到找到的位置
        array[frontIndex] = current;
    }
    //缩小排序间隔,继续进行比较
    step = (step - 1) / 3;
}
